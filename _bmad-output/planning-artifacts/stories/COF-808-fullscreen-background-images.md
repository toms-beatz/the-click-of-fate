# COF-808: Fullscreen Planet Background Images

**Epic**: BMAD Mode - Visual Polish  
**Status**: ðŸ“‹ READY FOR IMPLEMENTATION

**Target Files**:**Priority**: High

- `scenes/game_combat_scene.gd` (\_setup_background function)

- **New Asset Folder**: `assets/backgrounds/`

## User Story---

**En tant que** joueur,

**Je veux** que chaque planÃ¨te affiche une image fullscreen impressionnante en arriÃ¨re-plan,  
**Afin de** Ãªtre immergÃ© dans l'atmosphÃ¨re unique de chaque monde.

---

## Context

**Current State**:

Background utilise des ColorRect gradients simples (2 couleurs).

**Desired State**:

Chaque planÃ¨te a une image fullscreen qui:

- S'affiche **derriÃ¨re tout** (including buttons, HUD)- Couvre **tout l'Ã©cran** (720Ã—1280 mobile)

- Reste **visible pendant tout le combat**- Est **unique pour chaque planÃ¨te**

---

## Implementation Plan

### Step 1: Prepare Image Files

````**Create folder structure**:





















































































































































































































































































































































































4. Test and enjoy the new visual polish!3. Implement updated `_setup_background()` code2. Add your 4 planet background images1. Create `assets/backgrounds/` folder**Next Steps**:âœ… **Mobile optimized** - Proper resolution and layer management  âœ… **Easy to extend** - Can add parallax/transitions later  âœ… **Flexible fallback** - Works even if images are missing  âœ… **Professional look** - Images enhance game quality significantly  âœ… **Fullscreen immersion** - Players see atmosphere of each planet  This implementation provides:## Conclusion---6. âœ… Game feels more immersive and polished5. âœ… Fallback gradient works if images missing4. âœ… Text remains readable3. âœ… No performance drop from image loading2. âœ… Backgrounds visible behind all UI elements1. âœ… All 4 planets display custom fullscreen backgrounds**Post-Implementation**:## Success Metrics---- Check Godot profiler (Debug â†’ Monitor)- Use JPG instead of PNG if possible- Compress images to <300KB each**Performance Issues**:- Test on actual device brightness- Make sure dark text is white and white text is dark- Increase overlay darkness: Change 0.1 to 0.2 or 0.3**Text Not Readable Over Image**:- Try `STRETCH_KEEP_ASPECT` if you prefer padding- Make sure images are 720Ã—1280 (portrait orientation)- Use `STRETCH_KEEP_ASPECT_COVERED` (fills screen, crops edges)**Images Look Stretched**:- Check Godot console for error messages- Verify files exist in `assets/backgrounds/`- Check image paths in `_get_background_image_path()`**Images Don't Load**:## Troubleshooting---```	overlay.color = Color(0, 0, 0, 0.1)	var overlay := ColorRect.new()	# Add dark overlay for UI readability		bg_rect.stretch_mode = TextureRect.STRETCH_KEEP_ASPECT_COVERED	bg_rect.expand_mode = TextureRect.EXPAND_IGNORE_SIZE	bg_rect.texture = bg_texture	var bg_rect := TextureRect.new()	var bg_texture: Texture2D = load(bg_image_path)	# Load fullscreen imagefunc _setup_background() -> void:```gdscript**NEW** (_setup_background):```	gradient_top.color = planet_colors.bg_top	var gradient_top := ColorRect.new()		bg_rect.color = planet_colors.bg_bottom	var bg_rect := ColorRect.new()	# Simple gradient: 2 colorsfunc _setup_background() -> void:```gdscript**OLD** (_setup_background):## Code Changes Summary---3. Add dynamic overlay based on combat state2. Add fade transitions between planets1. Add parallax effect if desired### Phase 3 (Polish):3. Test on actual mobile device2. Adjust overlay darkness for readability1. Fine-tune image brightness/contrast if needed### Phase 2 (After Testing):3. Add placeholder images (or your custom images)2. Update `_setup_background()` code in game_combat_scene.gd1. Create `assets/backgrounds/` folder### Phase 1 (Now):## Implementation Sequence---| **NEW**: `assets/backgrounds/earth_bg.png` | Earth fullscreen image || **NEW**: `assets/backgrounds/mars_bg.png` | Mars fullscreen image || **NEW**: `assets/backgrounds/venus_bg.png` | Venus fullscreen image || **NEW**: `assets/backgrounds/mercury_bg.png` | Mercury fullscreen image || `scenes/game_combat_scene.gd` | Add `_setup_background_gradient_fallback()` function || `scenes/game_combat_scene.gd` | Add `_get_background_image_path()` function || `scenes/game_combat_scene.gd` | Replace `_setup_background()` function ||------|---------|| File | Changes |## Files Affected---```	tween.tween_property(background_image, "modulate:a", 0.95, 0.5)	tween.callback(func(): background_image.texture = new_texture)	tween.tween_property(background_image, "modulate:a", 0.0, 0.5)	var tween := create_tween()func _transition_background() -> void:# Smooth transition when changing planets```gdscript### Image Fade Transition:```	overlay.color = Color(0, 0, 0, 0.1)  # 10% dark normallyelse:	overlay.color = Color(0, 0, 0, 0.3)  # 30% dark during bossif is_boss_wave:# Darker overlay during boss fight```gdscript### Dynamic Overlay Brightness:```		background_image.position = offset		var offset: Vector2 = hero.position * 0.05		# Subtle movement based on hero position	if background_image:func _process(_delta: float) -> void:# Add subtle parallax when scrolling/camera moving```gdscript### Parallax Effect (Subtle Motion):## Optional Enhancements (Phase 2)---   - Cached by Godot after first load   - No runtime performance impact   - Images load once at scene start3. **Loading**:   - Godot will optimize further   - 720Ã—1280 @ web quality   - Target: 200-300KB per image2. **Size**:   - Compress with TinyPNG or similar   - Use JPG for smaller files (if no transparency)   - Use PNG for lossless (if transparency needed)1. **Compression**:**Image Optimization Tips**:## Performance Optimization---7. Visual quality matches game aesthetic6. No console errors or missing asset warnings5. Fallback gradient activates if images missing4. Images display fullscreen behind all UI elements3. Code updated to load images from correct path2. All 4 planet background images added1. Background image folder created (`assets/backgrounds/`)âœ… **Implementation Complete When**:## Acceptance Criteria---- [ ] Text remains readable (overlay helps)- [ ] Fallback gradient works if image missing- [ ] No performance impact (images optimized)- [ ] Buttons and HUD remain visible over background- [ ] Background is behind all UI elements- [ ] Background displays fullscreen on all planets- [ ] Images load without errors in Godot console- [ ] Images are 720Ã—1280 resolution- [ ] All 4 planet images added (mercury, venus, mars, earth)- [ ] Folder `assets/backgrounds/` created## Testing Checklist---   - Ready to use!   - Images should appear in FileSystem panel   - Restart Godot or refresh asset folder4. **Verify in Godot**:   - No manual configuration needed!   - When you save the images, Godot will automatically create `.import` files3. **Godot Recognition**:   - Image size: 720Ã—1280 (or larger for quality)   - Place `mercury_bg.png`, `venus_bg.png`, `mars_bg.png`, `earth_bg.png` in the folder2. **Add your images**:   ```   mkdir -p assets/backgrounds   ```bash1. **Create folder**:### To Add Images to the Project:## File Preparation Steps---**Result**: Background image is completely behind everything.```  â”œâ”€ Cinematic overlaysLayer 200 [CINEMATICS]  â”‚  â”œâ”€ Pause menu  â”œâ”€ Action buttonsLayer 100 [HUD]  â”‚  â”œâ”€ Wave labels  â”œâ”€ Pressure gauges  â”œâ”€ HP BarsLayer 1-5 [UI ELEMENTS]  â”‚  â”œâ”€ Effects (particles, floating text)  â”œâ”€ Hero/Enemy containersLayer 0 [GAME]  â”‚  â”œâ”€ BackgroundOverlay (ColorRect - dark overlay for readability)  â”œâ”€ BackgroundImage (TextureRect - fullscreen image)Layer -10 [BACKGROUND]```**CanvasLayer Hierarchy** (from back to front):## Layering Explanation---```	background.add_child(gradient_top)	gradient_top.color = planet_colors.bg_top	gradient_top.custom_minimum_size.y = 400	gradient_top.set_anchors_and_offsets_preset(Control.PRESET_TOP_WIDE)	gradient_top.name = "GradientTop"	var gradient_top := ColorRect.new()		background.add_child(bg_rect)	bg_rect.color = planet_colors.bg_bottom	bg_rect.set_anchors_and_offsets_preset(Control.PRESET_FULL_RECT)	bg_rect.name = "BackgroundGradientFallback"	var bg_rect := ColorRect.new()		var planet_colors: Dictionary = PLANET_COLORS.get(current_planet, PLANET_COLORS[0])	# Fallback to colored gradient (COF-807 colors)func _setup_background_gradient_fallback() -> void:	return bg_paths.get(planet_id, bg_paths[0])	}		3: "res://assets/backgrounds/earth_bg.png"		2: "res://assets/backgrounds/mars_bg.png",		1: "res://assets/backgrounds/venus_bg.png",		0: "res://assets/backgrounds/mercury_bg.png",	var bg_paths := {func _get_background_image_path(planet_id: int) -> String:	background.add_child(overlay)	overlay.set_anchors_and_offsets_preset(Control.PRESET_FULL_RECT)	overlay.color = Color(0, 0, 0, 0.1)  # 10% dark overlay	overlay.name = "BackgroundOverlay"	var overlay := ColorRect.new()	# Optional: Add overlay for UI readability			_setup_background_gradient_fallback()		print("[GameCombat] Background image not found at %s, using gradient fallback" % bg_image_path)		# Fallback: Use colored gradient if image not found	else:		print("[GameCombat] Loaded background image: %s" % bg_image_path)				background.add_child(bg_rect)		bg_rect.modulate.a = 0.95  # Slight transparency for UI readability		bg_rect.set_anchors_and_offsets_preset(Control.PRESET_FULL_RECT)		bg_rect.stretch_mode = TextureRect.STRETCH_KEEP_ASPECT_COVERED  # Fullscreen without gaps		bg_rect.expand_mode = TextureRect.EXPAND_IGNORE_SIZE		bg_rect.texture = bg_texture		bg_rect.name = "BackgroundImage"		var bg_rect := TextureRect.new()		# Create TextureRect for fullscreen background				var bg_texture: Texture2D = load(bg_image_path)		# Load the background image	if ResourceLoader.exists(bg_image_path):		var bg_image_path: String = _get_background_image_path(current_planet)	# Load and display planet background image		var viewport_size: Vector2 = get_viewport().get_visible_rect().size		add_child(background)	background.layer = -10	background.name = "Background"	background = CanvasLayer.new()func _setup_background() -> void:```gdscript**Updated _setup_background() function**:### Step 3: Code Implementation- Holographic patterns or grid overlay- Dark space background with neon accents- Neon lights and technology- Cyberpunk city skyline (corrupted)**Earth Background**:- Barren, hostile landscape- Red/orange gradient sky- Rocky desert formations- Red dust storm**Mars Background**:- Alien flora silhouettes- Sulfuric fog patterns- Yellow-green atmosphere- Toxic cloud formations**Venus Background**:- Desolate, alien landscape- Heat shimmer effect (optional)- Burnt orange/brown gradient sky- Ancient ruins silhouettes**Mercury Background**:### Step 2: Image Content Guidelines- **Quality**: High resolution, no stretching artifacts- **File Size**: Optimize to <500KB per image- **Format**: PNG (supports transparency) or JPG- **Resolution**: 720Ã—1280 (mobile portrait)**Image Specifications**:```        â””â”€â”€ earth_bg.png        â”œâ”€â”€ mars_bg.png        â”œâ”€â”€ venus_bg.png        â”œâ”€â”€ mercury_bg.png    â””â”€â”€ backgrounds/          â† CREATE THIS    â”œâ”€â”€ sprites/â””â”€â”€ assets/the-click-of-fate/```
````
